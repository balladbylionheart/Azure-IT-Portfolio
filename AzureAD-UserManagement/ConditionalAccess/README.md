# Conditional Access Report Script
By Helen Najar, Lionheart | Ballad by Lionheart

This folder contains:
- **ConditionalAccess.ps1**: The PowerShell script for generating Conditional Access policy reports.
- **Sample-Conditional-Access-Report.csv**: Sample output showing the expected results.

---

## Purpose
The script fetches details of Conditional Access policies configured in Azure Active Directory, including:
- Policy Name
- State (Enabled/Disabled)
- Assigned Users and Groups
- Conditions (e.g., included applications)

---

## Features
- Fetches all Conditional Access policies.
- Outputs detailed information about each policy.
- Exports results to a CSV file for easy review.

---

## Usage

### **1. Prerequisites**
Ensure the **Az** module is installed:
```powershell
Install-Module -Name Az -Scope CurrentUser
```

### **2. Run the Script**
1. Open PowerShell.
2. Authenticate with Azure:
   ```powershell
   Connect-AzAccount
   ```
3. Execute the script:
   ```powershell
   .\ConditionalAccess.ps1
   ```

### **3. Output**
The script generates a CSV file (`Conditional-Access-Policy-Report.csv`) with the following columns:
- `PolicyName`: The name of the Conditional Access policy.
- `State`: The status of the policy (Enabled/Disabled).
- `AssignedUsers`: Users directly assigned to the policy.
- `AssignedGroups`: Groups assigned to the policy.
- `Conditions`: Conditions applied by the policy (e.g., applications included).

Example Output:
| PolicyName              | State    | AssignedUsers            | AssignedGroups | Conditions            |
|--------------------------|----------|--------------------------|----------------|-----------------------|
| Block Legacy Auth        | Enabled  |                          | All Users      |                       |
| Require MFA for All Users| Enabled  | john.doe@domain.com      | IT             | Office 365 Apps       |

---

## Sample Output
The `Sample-Conditional-Access-Report.csv` file provides an example of the report generated by the script.

---

## Notes
- Ensure you have the necessary permissions to fetch Conditional Access policy data in Azure Active Directory.
- The script uses the **Az** module to interact with Azure resources. Authentication is required before running the script.

---

## Disclaimer
This script was tested in simulation mode due to lack of Azure access. It is expected to function correctly when run with appropriate permissions in a live Azure environment.

---
## ðŸ“œ License

This project is licensed under the [MIT License](https://github.com/balladbylionheart/Azure-IT-Portfolio/blob/main/LICENSE.md).

Created and maintained by Helen Najar | Lionheart | [balladbylionheart.com](https://www.balladbylionheart.com)


## **Contact**

For questions, enhancements, or feedback:
ðŸ“¬ [Main README](https://github.com/balladbylionheart/Azure-IT-Portfolio/blob/main/README.md)
